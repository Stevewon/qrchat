# 🚀 QRChat Desktop v2.1.0 로드맵

## 📅 일정 개요

**목표 출시일**: 2026년 3월 30일 (약 5-6주)  
**현재 버전**: v2.0.0  
**다음 버전**: v2.1.0  
**주요 테마**: 성능 최적화 & 사용자 경험 개선

---

## 🎯 주요 목표

### 1. 코드 서명 완료 ✅
- [x] macOS 코드 서명 ($99)
- [x] Windows 코드 서명 ($200)
- [ ] Linux GPG 서명 (무료)

### 2. 성능 최적화 🚀
- [ ] 앱 시작 시간 단축 (50% 개선 목표)
- [ ] 메모리 사용량 최적화 (30% 감소 목표)
- [ ] 대용량 파일 전송 속도 향상
- [ ] 데이터베이스 쿼리 최적화

### 3. 사용자 경험 개선 ✨
- [ ] 다크 모드 자동 전환
- [ ] 키보드 단축키 확장 (20+ 단축키)
- [ ] 드래그 & 드롭 개선
- [ ] 멀티 윈도우 지원
- [ ] 미니 플레이어 모드

### 4. 새로운 기능 🎉
- [ ] 화면 공유
- [ ] 음성 메시지
- [ ] 이모티콘 스토어
- [ ] 채팅 폴더 (카카오톡 스타일)
- [ ] 자동 번역

---

## 📊 상세 계획

### Week 1-2: 코드 서명 & 피드백 (2026.02.19 - 03.02)

#### 코드 서명 완료
**목표**: v2.0.0 정식 서명 버전 배포

**Task 1.1: macOS 코드 서명** ⏱️ 2-3일
- [ ] Apple Developer Program 가입 ($99)
- [ ] 개발자 인증서 생성
- [ ] App-Specific Password 생성
- [ ] Notarization 설정
- [ ] DMG 서명 및 배포
- [ ] GitHub Actions 통합

**Task 1.2: Windows 코드 서명** ⏱️ 3-5일
- [ ] Sectigo OV 인증서 구매 ($200)
- [ ] CSR 생성 및 서류 제출
- [ ] 인증서 발급 대기 (1-3일)
- [ ] PFX 파일 생성
- [ ] EXE 및 설치 프로그램 서명
- [ ] GitHub Actions 통합

**Task 1.3: Linux GPG 서명** ⏱️ 1일
- [ ] GPG 키 생성
- [ ] .deb 및 AppImage 서명
- [ ] 공개 키 배포

**Task 1.4: 사용자 피드백 수집** ⏱️ 계속
- [ ] 피드백 폼 모니터링
- [ ] GitHub Issues 확인
- [ ] 버그 우선순위 지정
- [ ] 긴급 패치 (v2.0.1) 필요 시 출시

**산출물**:
- ✅ 서명된 macOS DMG
- ✅ 서명된 Windows 설치 프로그램
- ✅ 서명된 Linux 패키지
- 📊 사용자 피드백 리포트

---

### Week 3-4: 성능 최적화 (2026.03.03 - 03.16)

#### 성능 프로파일링 & 최적화

**Task 2.1: 시작 시간 최적화** ⏱️ 3-4일
**현재**: ~3-5초  
**목표**: ~1-2초

**방법**:
```dart
// main.dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // 병렬 초기화
  await Future.wait([
    Firebase.initializeApp(),
    NotificationService().initialize(),
    _loadUserPreferences(),
  ]);
  
  // 지연 로딩
  runApp(const QRChatApp());
  
  // 백그라운드 초기화
  Future.microtask(() async {
    await _initializeDesktop();
    await _loadChatHistory();
  });
}
```

**작업**:
- [ ] Firebase lazy initialization
- [ ] 채팅 기록 지연 로딩
- [ ] 스플래시 화면 최적화
- [ ] 불필요한 초기화 제거
- [ ] 앱 번들 크기 줄이기

**Task 2.2: 메모리 최적화** ⏱️ 2-3일
**현재**: ~200-300MB  
**목표**: ~150-200MB

**방법**:
- [ ] 이미지 캐싱 개선 (LRU cache)
- [ ] 채팅 메시지 페이지네이션
- [ ] 메모리 누수 찾기 (DevTools)
- [ ] 대용량 파일 스트리밍
- [ ] 백그라운드 메모리 정리

**Task 2.3: 파일 전송 속도 향상** ⏱️ 2-3일
**현재**: ~2-5 MB/s  
**목표**: ~10-20 MB/s

**방법**:
```dart
// 청크 업로드 with 병렬 처리
Future<void> uploadLargeFile(File file) async {
  const chunkSize = 1024 * 1024; // 1MB chunks
  final chunks = _splitFileIntoChunks(file, chunkSize);
  
  // 병렬 업로드 (최대 4개)
  await Future.wait(
    chunks.map((chunk) => _uploadChunk(chunk)),
    eagerError: true,
  );
}
```

**작업**:
- [ ] 멀티 파트 업로드 구현
- [ ] 병렬 다운로드 (4-8 스레드)
- [ ] 재개 가능 업로드
- [ ] 압축 전송 (gzip)
- [ ] 진행률 표시 개선

**Task 2.4: 데이터베이스 최적화** ⏱️ 2일
- [ ] Firestore 인덱스 최적화
- [ ] 쿼리 배칭 (batch reads)
- [ ] 오프라인 캐싱 개선
- [ ] 실시간 리스너 최적화

**산출물**:
- 📊 성능 벤치마크 리포트
- ✅ 시작 시간 50% 단축
- ✅ 메모리 30% 감소
- ✅ 파일 전송 속도 2-3배 향상

---

### Week 5: UX 개선 & 새 기능 (2026.03.17 - 03.23)

#### 사용자 경험 개선

**Task 3.1: 다크 모드 자동 전환** ⏱️ 1일
```dart
// theme_manager.dart
class ThemeManager extends ChangeNotifier {
  ThemeMode _themeMode = ThemeMode.system;
  
  // 시스템 테마 변경 감지
  void _listenToSystemTheme() {
    window.onPlatformBrightnessChanged = () {
      if (_themeMode == ThemeMode.system) {
        notifyListeners();
      }
    };
  }
  
  // 자동 다크 모드 (시간대 기반)
  void enableAutoSchedule() {
    final hour = DateTime.now().hour;
    if (hour >= 18 || hour < 6) {
      _themeMode = ThemeMode.dark;
    } else {
      _themeMode = ThemeMode.light;
    }
  }
}
```

**작업**:
- [ ] 시스템 테마 감지
- [ ] 시간대 기반 자동 전환
- [ ] 다크 모드 UI 개선
- [ ] 테마 커스터마이징

**Task 3.2: 키보드 단축키 확장** ⏱️ 2일
**현재**: ~5개  
**목표**: ~20개

**단축키 맵**:
```yaml
# 전역 단축키
Ctrl/Cmd + N: 새 채팅
Ctrl/Cmd + F: 검색
Ctrl/Cmd + ,: 설정
Ctrl/Cmd + Q: 종료
Ctrl/Cmd + W: 창 닫기

# 채팅 단축키
Ctrl/Cmd + Enter: 메시지 전송
Ctrl/Cmd + Shift + A: 파일 첨부
Ctrl/Cmd + Shift + S: 스크린샷
Ctrl/Cmd + B: 볼드
Ctrl/Cmd + I: 이탤릭
Ctrl/Cmd + U: 밑줄
Ctrl/Cmd + K: 링크
Ctrl/Cmd + E: 이모티콘

# 탐색 단축키
Ctrl/Cmd + Tab: 다음 채팅
Ctrl/Cmd + Shift + Tab: 이전 채팅
Ctrl/Cmd + 1-9: 채팅 직접 선택
Ctrl/Cmd + Up/Down: 메시지 탐색
Ctrl/Cmd + R: 메시지 답장
Ctrl/Cmd + D: 메시지 삭제
```

**작업**:
- [ ] 단축키 핸들러 구현
- [ ] 설정에서 단축키 커스터마이징
- [ ] 단축키 안내 화면
- [ ] 충돌 방지 로직

**Task 3.3: 드래그 & 드롭 개선** ⏱️ 1일
```dart
// drag_drop_handler.dart
class DragDropHandler {
  void handleDrop(DropDoneDetails details) {
    final files = details.files;
    
    // 파일 타입 자동 감지
    for (final file in files) {
      if (_isImage(file)) {
        _sendImage(file);
      } else if (_isVideo(file)) {
        _sendVideo(file);
      } else {
        _sendFile(file);
      }
    }
  }
}
```

**작업**:
- [ ] 멀티 파일 드롭 지원
- [ ] 파일 타입 자동 인식
- [ ] 미리보기 생성
- [ ] 드래그 오버 애니메이션

**Task 3.4: 멀티 윈도우 지원** ⏱️ 2일
```dart
// window_manager.dart
class WindowManager {
  final Map<String, Window> _windows = {};
  
  Future<void> openChatWindow(String chatId) async {
    final window = await Window.create(
      WindowOptions(
        size: Size(800, 600),
        title: 'Chat - $chatId',
      ),
    );
    
    _windows[chatId] = window;
  }
}
```

**작업**:
- [ ] 채팅 창 분리
- [ ] 창 상태 동기화
- [ ] 미니 플레이어 모드
- [ ] 항상 위 모드

**Task 3.5: 채팅 폴더 (카카오톡 스타일)** ⏱️ 2일
```dart
// chat_folder.dart
class ChatFolder {
  final String id;
  final String name;
  final Color color;
  final List<String> chatIds;
  
  // 기본 폴더
  static final defaults = [
    ChatFolder(name: '친구', color: Colors.blue),
    ChatFolder(name: '가족', color: Colors.green),
    ChatFolder(name: '업무', color: Colors.orange),
  ];
}
```

**작업**:
- [ ] 폴더 생성/편집/삭제
- [ ] 채팅 폴더 이동 (드래그)
- [ ] 폴더별 색상 지정
- [ ] 폴더 정렬/필터

**산출물**:
- ✅ 다크 모드 자동 전환
- ✅ 20+ 키보드 단축키
- ✅ 개선된 드래그 & 드롭
- ✅ 멀티 윈도우 지원
- ✅ 채팅 폴더 기능

---

#### 새로운 기능

**Task 4.1: 화면 공유** ⏱️ 3일
```dart
// screen_share.dart
import 'package:screen_capturer/screen_capturer.dart';

class ScreenShareManager {
  Future<void> startSharing() async {
    final capturer = ScreenCapturer.instance;
    
    // 화면 캡처
    final stream = await capturer.startCapture();
    
    // WebRTC로 전송
    await _sendStream(stream);
  }
}
```

**작업**:
- [ ] 화면 캡처 구현
- [ ] 윈도우 선택 UI
- [ ] WebRTC 스트리밍
- [ ] 화면 공유 제어 (일시정지/중지)
- [ ] 초당 프레임 설정

**패키지**:
- `screen_capturer: ^0.2.0`
- `flutter_webrtc: ^0.9.0`

**Task 4.2: 음성 메시지** ⏱️ 2일
```dart
// voice_message.dart
import 'package:record/record.dart';

class VoiceMessageRecorder {
  final record = Record();
  
  Future<String> startRecording() async {
    await record.start(
      path: 'voice_message.m4a',
      encoder: AudioEncoder.aacLc,
      bitRate: 128000,
      samplingRate: 44100,
    );
  }
  
  Future<void> stopRecording() async {
    final path = await record.stop();
    await _uploadVoiceMessage(path);
  }
}
```

**작업**:
- [ ] 음성 녹음 구현
- [ ] 파형 애니메이션
- [ ] 재생 컨트롤
- [ ] 음성-텍스트 변환 (STT)
- [ ] 재생 속도 조절

**패키지**:
- `record: ^5.0.0`
- `just_audio: ^0.9.0`
- `audio_waveforms: ^1.0.0`

**Task 4.3: 이모티콘 스토어** ⏱️ 2일
```dart
// emoticon_store.dart
class EmoticonStore {
  final List<EmoticonPack> packs;
  
  // 무료 팩
  final freePacks = [
    EmoticonPack(id: 'basic', name: '기본', price: 0),
  ];
  
  // 유료 팩 (QKEY로 구매)
  final premiumPacks = [
    EmoticonPack(id: 'cute', name: '귀여운', price: 100),
    EmoticonPack(id: 'funny', name: '웃긴', price: 150),
  ];
}
```

**작업**:
- [ ] 이모티콘 스토어 UI
- [ ] QKEY 결제 연동
- [ ] 이모티콘 다운로드
- [ ] 내 이모티콘 관리
- [ ] 이모티콘 미리보기

**Task 4.4: 자동 번역** ⏱️ 2일
```dart
// translator.dart
import 'package:translator/translator.dart';

class MessageTranslator {
  final translator = GoogleTranslator();
  
  Future<String> translate(String text, String targetLang) async {
    final translation = await translator.translate(
      text,
      to: targetLang,
    );
    return translation.text;
  }
}
```

**작업**:
- [ ] 메시지 자동 번역
- [ ] 언어 자동 감지
- [ ] 번역 켜기/끄기
- [ ] 번역 언어 선택
- [ ] 원문/번역 토글

**패키지**:
- `translator: ^0.1.7`
- 또는 Google Cloud Translation API

**산출물**:
- ✅ 화면 공유 기능
- ✅ 음성 메시지 기능
- ✅ 이모티콘 스토어
- ✅ 자동 번역 기능

---

### Week 6: 테스트 & 출시 (2026.03.24 - 03.30)

#### 최종 테스트 & 문서화

**Task 5.1: 통합 테스트** ⏱️ 2일
- [ ] 자동화 테스트 스위트 실행
- [ ] 수동 테스트 (모든 플랫폼)
- [ ] 성능 벤치마크
- [ ] 메모리 누수 테스트
- [ ] 부하 테스트

**Task 5.2: 버그 수정** ⏱️ 2일
- [ ] 크리티컬 버그 우선 수정
- [ ] 사용자 피드백 반영
- [ ] UI 폴리싱
- [ ] 번역 검수

**Task 5.3: 문서 업데이트** ⏱️ 1일
- [ ] RELEASE_NOTES_v2.1.0.md 작성
- [ ] CHANGELOG.md 업데이트
- [ ] 사용자 가이드 업데이트
- [ ] API 문서 업데이트

**Task 5.4: 배포 준비** ⏱️ 1일
- [ ] 버전 번호 업데이트 (2.0.0 → 2.1.0)
- [ ] 빌드 번호 증가 (200 → 210)
- [ ] 모든 플랫폼 빌드
- [ ] 코드 서명
- [ ] GitHub Release 준비

**Task 5.5: 출시** ⏱️ 1일
**날짜**: 2026년 3월 30일

```bash
# 버전 태그
git tag v2.1.0
git push origin v2.1.0

# GitHub Actions가 자동으로:
# - 모든 플랫폼 빌드
# - 코드 서명
# - GitHub Release 생성
# - appcast.xml 업데이트
# - 사용자에게 자동 업데이트 알림
```

**출시 체크리스트**:
- [ ] GitHub Release 생성
- [ ] 다운로드 링크 확인
- [ ] 웹사이트 업데이트 (qrchat.io)
- [ ] 블로그 포스트 작성
- [ ] SNS 공지 (Twitter, Facebook, 커뮤니티)
- [ ] 이메일 뉴스레터 발송
- [ ] 자동 업데이트 확인

**산출물**:
- ✅ QRChat Desktop v2.1.0 출시
- 📦 모든 플랫폼 설치 파일
- 📄 Release Notes
- 📢 마케팅 자료

---

## 📊 예상 리소스

### 개발 시간
- **주 1-2**: 코드 서명 & 피드백 - 40시간
- **주 3-4**: 성능 최적화 - 60시간
- **주 5**: UX 개선 & 새 기능 - 50시간
- **주 6**: 테스트 & 출시 - 30시간
- **총**: **180시간** (약 4.5주 풀타임)

### 비용
- Apple Developer Program: $99
- Windows Code Signing (OV): $200
- 새 패키지 라이선스: $0 (모두 오픈소스)
- **총**: **$299**

### 팀
- 1명 개발자 (풀스택)
- 선택: 1명 디자이너 (UI/UX)
- 선택: 1명 QA 테스터

---

## 🎯 성공 지표 (KPI)

### 성능
- ✅ 앱 시작 시간 < 2초
- ✅ 메모리 사용량 < 200MB
- ✅ 파일 전송 속도 > 10MB/s
- ✅ CPU 사용률 < 10% (유휴 시)

### 사용성
- ✅ 크래시율 < 0.1%
- ✅ 평균 세션 시간 > 30분
- ✅ 일일 활성 사용자 (DAU) 증가
- ✅ 사용자 만족도 > 4.5/5.0

### 비즈니스
- ✅ 다운로드 수 > 10,000
- ✅ 활성 사용자 > 1,000
- ✅ QKEY 거래량 증가
- ✅ 이모티콘 스토어 매출

---

## 🚧 리스크 & 대응

### 기술 리스크
**리스크**: 화면 공유 성능 문제  
**대응**: WebRTC 최적화, FPS 제한, 해상도 조절

**리스크**: 멀티 윈도우 메모리 사용량 증가  
**대응**: 창 수 제한, 공유 메모리 사용

**리스크**: 코드 서명 지연  
**대응**: 2주 버퍼 시간 확보, 대체 CA 준비

### 일정 리스크
**리스크**: 새 기능 개발 지연  
**대응**: MVP 먼저 출시, 나머지는 v2.2.0으로 연기

**리스크**: 버그 발견  
**대응**: 베타 테스트 2주 전 시작, 핫픽스 준비

---

## 🔮 미래 계획 (v2.2.0 이후)

### v2.2.0 (2026년 5월) - 모바일 동기화
- 모바일 앱과 완벽 동기화
- 클라우드 백업
- 크로스 플랫폼 알림

### v2.3.0 (2026년 7월) - AI 기능
- AI 챗봇 통합
- 스마트 답장 제안
- 이미지 AI 분석

### v2.4.0 (2026년 9월) - 엔터프라이즈
- 팀 관리 기능
- 관리자 대시보드
- SSO 로그인
- 감사 로그

### v3.0.0 (2026년 12월) - 블록체인
- QTA 메인넷 통합
- 탈중앙화 채팅
- NFT 이모티콘
- DAO 거버넌스

---

## ✅ 최종 체크리스트

### 코드 서명
- [ ] macOS 코드 서명 완료
- [ ] Windows 코드 서명 완료
- [ ] Linux GPG 서명 완료
- [ ] GitHub Actions 자동화

### 성능 최적화
- [ ] 시작 시간 50% 단축
- [ ] 메모리 30% 감소
- [ ] 파일 전송 속도 2배 향상
- [ ] 데이터베이스 쿼리 최적화

### UX 개선
- [ ] 다크 모드 자동 전환
- [ ] 20+ 키보드 단축키
- [ ] 드래그 & 드롭 개선
- [ ] 멀티 윈도우 지원
- [ ] 채팅 폴더

### 새 기능
- [ ] 화면 공유
- [ ] 음성 메시지
- [ ] 이모티콘 스토어
- [ ] 자동 번역

### 출시
- [ ] 모든 플랫폼 빌드
- [ ] 코드 서명
- [ ] GitHub Release
- [ ] 웹사이트 업데이트
- [ ] 마케팅 공지

---

## 🎉 v2.1.0 출시 후

**축하합니다! QRChat Desktop v2.1.0 출시!** 🎉

**다음 단계**:
1. 사용자 피드백 모니터링
2. 버그 핫픽스 (v2.1.1)
3. v2.2.0 계획 시작
4. 마케팅 캠페인 확대
5. 커뮤니티 구축

---

**준비되셨나요? Let's build the future of messaging!** 🚀

**시작일**: 2026년 2월 19일  
**목표 출시일**: 2026년 3월 30일  
**기간**: 5-6주

**화이팅!** 💪✨
