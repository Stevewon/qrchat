# QRChat v1.0.9 ì‘ì—… ì™„ë£Œ ë³´ê³ ì„œ

**ì‘ì—… ë‚ ì§œ**: 2026-02-14
**ìµœì¢… ë²„ì „**: v1.0.9 (Build 109)

---

## âœ… ì™„ë£Œëœ ì‘ì—… ëª©ë¡

### 1. ìŠ¤í‹°ì»¤íŒ© íƒ­ êµ¬ë¶„ ê¸°ëŠ¥ êµ¬í˜„ (ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼)

#### ğŸ¨ ì£¼ìš” ê¸°ëŠ¥
- Firebase Firestoreì—ì„œ ì—¬ëŸ¬ ìŠ¤í‹°ì»¤íŒ©ì„ ê°€ì ¸ì™€ íƒ­ìœ¼ë¡œ êµ¬ë¶„
- ê° ìŠ¤í‹°ì»¤íŒ©ë³„ë¡œ ë…ë¦½ì ì¸ ê·¸ë¦¬ë“œ í‘œì‹œ
- ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìƒë‹¨ íƒ­ ë°”ë¡œ íŒ© ê°„ ì „í™˜
- íˆ¬ëª… ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤í‹°ì»¤ ì§€ì›

#### ğŸ“ ìˆ˜ì •ëœ íŒŒì¼
- `lib/screens/chat_screen.dart` - 1:1 ì±„íŒ… ìŠ¤í‹°ì»¤ í”¼ì»¤
- `lib/screens/group_chat_screen.dart` - ê·¸ë£¹ ì±„íŒ… ìŠ¤í‹°ì»¤ í”¼ì»¤
- `pubspec.yaml` - ë²„ì „ ì—…ë°ì´íŠ¸ (1.0.9)

---

### 2. ê·¸ë£¹ ì±„íŒ… ì´ë¯¸ì§€/ìŠ¤í‹°ì»¤ í¬ê¸° ë¬¸ì œ í•´ê²°

#### ğŸ› ë¬¸ì œ
- ê·¸ë£¹ ì±„íŒ…ì—ì„œ ë‚˜ê°”ë‹¤ ë“¤ì–´ì˜¤ë©´ ìŠ¤í‹°ì»¤/ì´ë¯¸ì§€ í¬ê¸°ê°€ ì¤„ì–´ë“œëŠ” í˜„ìƒ

#### âœ… í•´ê²°
- ë°˜ì‘í˜• í¬ê¸° ê³„ì‚° ì ìš© (`ConstrainedBox` ì‚¬ìš©)
- ìŠ¤í‹°ì»¤: ê³ ì • **75x75px**
- ì¼ë°˜ ì´ë¯¸ì§€: í™”ë©´ ë„ˆë¹„ **60%**, ë†’ì´ **40%**
- ë‚˜ê°”ë‹¤ ë“¤ì–´ì™€ë„ í¬ê¸° ì¼ê´€ì„± ìœ ì§€

#### ğŸ“ ìˆ˜ì •ëœ íŒŒì¼
- `lib/screens/chat_screen.dart` - ì´ë¯¸ì§€ ë©”ì‹œì§€ ìœ„ì ¯
- `lib/screens/group_chat_screen.dart` - ì´ë¯¸ì§€ ë©”ì‹œì§€ ìœ„ì ¯

---

### 3. ìŠ¤í‹°ì»¤íŒ© í†µí•© ì‘ì—…

#### ğŸ“¦ í†µí•© ì „
- "ë©ì²­ì´" ìŠ¤í‹°ì»¤íŒ© 2ê°œ:
  - `meongceongi_26414` (6ê°œ ìŠ¤í‹°ì»¤)
  - `meongceongi_35385` (5ê°œ ìŠ¤í‹°ì»¤)

#### ğŸ“¦ í†µí•© í›„
- "ë©ì²­ì´" ìŠ¤í‹°ì»¤íŒ© 1ê°œ:
  - `meongceongi_35385` (11ê°œ ìŠ¤í‹°ì»¤)
  - ëª¨ë“  ìŠ¤í‹°ì»¤ í†µí•© ì™„ë£Œ

#### ğŸ› ï¸ ì‚¬ìš©ëœ ë„êµ¬
- Firebase Admin SDK
- Node.js ìë™í™” ìŠ¤í¬ë¦½íŠ¸
- ì„œë¹„ìŠ¤ ê³„ì • í‚¤ ì¸ì¦

---

### 4. Firebase Firestore ì¸ë±ìŠ¤ ìƒì„±

#### ğŸ” ë¬¸ì œ
- QKEY ê±°ë˜ ë‚´ì—­ ì¡°íšŒ ì‹œ ì¸ë±ìŠ¤ ì˜¤ë¥˜ ë°œìƒ
- ì˜¤ë¥˜ ë©”ì‹œì§€: `[cloud_firestore/failed-precondition] The query requires an index`

#### âœ… í•´ê²°
Firebase Consoleì—ì„œ ë‹¤ìŒ ì¸ë±ìŠ¤ ìƒì„±:

**ì¸ë±ìŠ¤ 1: ì „ì²´ ê±°ë˜ ë‚´ì—­**
```
ì»¬ë ‰ì…˜: qkey_transactions
í•„ë“œ:
  - userId (ì˜¤ë¦„ì°¨ìˆœ)
  - created_at (ë‚´ë¦¼ì°¨ìˆœ)
ì¿¼ë¦¬ ë²”ìœ„: ì»¬ë ‰ì…˜
```

**ì¸ë±ìŠ¤ 2: ì‹¤ì œ ì‚¬ìš© (timestamp ê¸°ë°˜)**
```
ì»¬ë ‰ì…˜: qkey_transactions
í•„ë“œ:
  - userId (ì˜¤ë¦„ì°¨ìˆœ)
  - timestamp (ë‚´ë¦¼ì°¨ìˆœ)
ì¿¼ë¦¬ ë²”ìœ„: ì»¬ë ‰ì…˜
```

#### ğŸ“Š ê²°ê³¼
- âœ… QKEY ê±°ë˜ ë‚´ì—­ ì •ìƒ ì‘ë™
- âœ… ëª¨ë“  íƒ­ (ì „ì²´, ì ë¦½, ì¶œê¸ˆ, ë³´ë„ˆìŠ¤, ì°¨ê°) ì •ìƒ í‘œì‹œ

---

## ğŸ”§ ì¶”ê°€ëœ Firebase ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸

### ìŠ¤í‹°ì»¤íŒ© ê´€ë¦¬
1. **`merge_sticker_packs.js`**
   - ì¤‘ë³µ ìŠ¤í‹°ì»¤íŒ© ìë™ í†µí•©
   - Firebase Admin SDK ì‚¬ìš©
   - ì„œë¹„ìŠ¤ ê³„ì • í‚¤ í•„ìš”

2. **`list_sticker_packs.js`**
   - Firestore ìŠ¤í‹°ì»¤íŒ© ëª©ë¡ ì¡°íšŒ
   - íŒ© ì´ë¦„, ìŠ¤í‹°ì»¤ ê°œìˆ˜ í™•ì¸

3. **`merge_stickers_manual.js`**
   - ìˆ˜ë™ í†µí•© ê°€ì´ë“œ ì¶œë ¥

### QKEY ê´€ë¦¬
4. **`check_qkey_structure.js`**
   - QKEY Transactions ë°ì´í„° êµ¬ì¡° í™•ì¸
   - í•„ìš”í•œ ì¸ë±ìŠ¤ ìë™ ì¶”ì¶œ

5. **`create_qkey_index.js`**
   - ì¸ë±ìŠ¤ ìƒì„± ê°€ì´ë“œ ì¶œë ¥

### ë¬¸ì„œ
6. **`MERGE_STICKERS_GUIDE.md`**
   - ìŠ¤í‹°ì»¤íŒ© í†µí•© ê°€ì´ë“œ ë¬¸ì„œ

---

## ğŸ“¦ ë°°í¬ íŒŒì¼

### GitHub Release v1.0.9
ğŸ”— https://github.com/Stevewon/qrchat/releases/tag/v1.0.9

**ë‹¤ìš´ë¡œë“œ:**
- `qrchat_v1.0.9_release.zip` (14 MB)
  - `qrchat_v1.0.9.apk` (27.8 MB, ARM64)
  - `README_INSTALL.txt`

---

## ğŸ¯ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

### ìŠ¤í‹°ì»¤íŒ© íƒ­ êµ¬ë¶„
1. âœ… ì±„íŒ…ë°©ì—ì„œ ìŠ¤í‹°ì»¤ ì•„ì´ì½˜ í´ë¦­
2. âœ… ìƒë‹¨ íƒ­ í™•ì¸: "ì„¹ì‹œë…€", "ë©ì²­ì´"
3. âœ… ê° íƒ­ í´ë¦­í•˜ì—¬ ìŠ¤í‹°ì»¤ í‘œì‹œ í™•ì¸
4. âœ… ìŠ¤í‹°ì»¤ ì „ì†¡ í…ŒìŠ¤íŠ¸

### ì´ë¯¸ì§€ í¬ê¸° ì¼ê´€ì„±
1. âœ… ê·¸ë£¹ ì±„íŒ…ë°© ì…ì¥
2. âœ… ìŠ¤í‹°ì»¤/ì´ë¯¸ì§€ ì „ì†¡
3. âœ… í¬ê¸° í™•ì¸ (ìŠ¤í‹°ì»¤ 75px, ì´ë¯¸ì§€ í™”ë©´ ëŒ€ì‘)
4. âœ… ê·¸ë£¹ë°© ë‚˜ê°€ê¸°
5. âœ… ë‹¤ì‹œ ì…ì¥
6. âœ… í¬ê¸° ì¼ê´€ì„± í™•ì¸

### QKEY ê±°ë˜ ë‚´ì—­
1. âœ… í”„ë¡œí•„ > QKEY ê±°ë˜ ë‚´ì—­ í´ë¦­
2. âœ… ëª¨ë“  íƒ­ í™•ì¸ (ì „ì²´, ì ë¦½, ì¶œê¸ˆ, ë³´ë„ˆìŠ¤, ì°¨ê°)
3. âœ… ìµœì‹  ê±°ë˜ê°€ ë§¨ ìœ„ì— í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
4. âœ… ì˜¤ë¥˜ ì—†ì´ ì •ìƒ ì‘ë™ í™•ì¸

---

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### .gitignore ì¶”ê°€
```
firebase-service-account.json
```

**ì£¼ì˜ì‚¬í•­:**
- Firebase ì„œë¹„ìŠ¤ ê³„ì • í‚¤ëŠ” ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”
- ì´ë¯¸ ì»¤ë°‹ëœ ê²½ìš° ì¦‰ì‹œ í‚¤ë¥¼ ì¬ìƒì„±í•˜ì„¸ìš”
- í‚¤ íŒŒì¼ì€ ë¡œì»¬ì—ì„œë§Œ ì‚¬ìš©í•˜ì„¸ìš”

---

## ğŸ“‹ Firebase ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… Firestore Indexes
- [x] qkey_transactions (userId, timestamp) - ì‚¬ìš© ì„¤ì •ë¨
- [x] qkey_transactions (userId, created_at) - ì‚¬ìš© ì„¤ì •ë¨
- [x] qkey_transactions (type, timestamp) - ì‚¬ìš© ì„¤ì •ë¨

### âœ… Firestore Collections
- [x] sticker_packs (2ê°œ íŒ©: ì„¹ì‹œë…€, ë©ì²­ì´)
- [x] qkey_transactions (ê±°ë˜ ë‚´ì—­)
- [x] users (ì‚¬ìš©ì ì •ë³´)
- [x] chat_rooms (ì±„íŒ…ë°©)

### âœ… Firebase Storage Rules
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if true;
    }
  }
}
```

---

## ğŸ”— ìœ ìš©í•œ ë§í¬

### Firebase Console
- **í”„ë¡œì íŠ¸**: https://console.firebase.google.com/project/qrchat-b7a67
- **Firestore Database**: https://console.firebase.google.com/project/qrchat-b7a67/firestore
- **Firestore ìƒ‰ì¸**: https://console.firebase.google.com/project/qrchat-b7a67/firestore/indexes
- **Storage**: https://console.firebase.google.com/project/qrchat-b7a67/storage
- **ì„œë¹„ìŠ¤ ê³„ì •**: https://console.firebase.google.com/project/qrchat-b7a67/settings/serviceaccounts/adminsdk

### GitHub
- **ì €ì¥ì†Œ**: https://github.com/Stevewon/qrchat
- **ë¦´ë¦¬ìŠ¤**: https://github.com/Stevewon/qrchat/releases
- **v1.0.9 ë¦´ë¦¬ìŠ¤**: https://github.com/Stevewon/qrchat/releases/tag/v1.0.9

### ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- **ëŒ€ì‹œë³´ë“œ**: https://qrchat-b7a67.web.app/admin_dashboard.html

---

## ğŸ“Š ë²„ì „ íˆìŠ¤í† ë¦¬

### v1.0.9 (2026-02-14)
- âœ… ìŠ¤í‹°ì»¤íŒ© íƒ­ êµ¬ë¶„ (ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼)
- âœ… ê·¸ë£¹ ì±„íŒ… ì´ë¯¸ì§€ í¬ê¸° ë¬¸ì œ í•´ê²°
- âœ… ìŠ¤í‹°ì»¤íŒ© í†µí•© ("ë©ì²­ì´" 11ê°œ)
- âœ… Firestore ì¸ë±ìŠ¤ ìƒì„± (QKEY)
- âœ… Firebase ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€

### v1.0.8 (2026-02-14)
- UI ê°œì„  (QR ì½”ë“œ ìœ„ì¹˜ ì´ë™)
- QR ì£¼ì†Œ ì…ë ¥ë€ ë‹¨ì¼ ë¼ì¸

### v1.0.7 (2026-02-14)
- ë™ì˜ìƒ ì¸ë„¤ì¼ HTTP ë‹¤ìš´ë¡œë“œ ë°©ì‹ ìˆ˜ì •

---

## ğŸ‰ ì‘ì—… ì™„ë£Œ ìš”ì•½

| í•­ëª© | ìƒíƒœ |
|------|------|
| ìŠ¤í‹°ì»¤íŒ© íƒ­ êµ¬ë¶„ | âœ… ì™„ë£Œ |
| ì´ë¯¸ì§€ í¬ê¸° ì¼ê´€ì„± | âœ… ì™„ë£Œ |
| ìŠ¤í‹°ì»¤íŒ© í†µí•© | âœ… ì™„ë£Œ (2ê°œ â†’ 1ê°œ) |
| Firestore ì¸ë±ìŠ¤ | âœ… ì™„ë£Œ (3ê°œ ìƒì„±) |
| ì•± ë¹Œë“œ (v1.0.9) | âœ… ì™„ë£Œ |
| GitHub ë¦´ë¦¬ìŠ¤ | âœ… ì™„ë£Œ |
| Firebase ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸ | âœ… ì™„ë£Œ (6ê°œ) |
| ë¬¸ì„œí™” | âœ… ì™„ë£Œ |
| í…ŒìŠ¤íŠ¸ | âœ… ì •ìƒ ì‘ë™ í™•ì¸ |

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ

### 1. ìŠ¤í‹°ì»¤ ê´€ë¦¬ ê°•í™”
- ìŠ¤í‹°ì»¤íŒ© ì¶”ê°€/ì‚­ì œ UI êµ¬í˜„
- ìŠ¤í‹°ì»¤ ê²€ìƒ‰ ê¸°ëŠ¥
- ì¦ê²¨ì°¾ê¸° ìŠ¤í‹°ì»¤

### 2. QKEY ì‹œìŠ¤í…œ ê°œì„ 
- ì‹¤ì‹œê°„ QKEY ì ë¦½ ì•Œë¦¼
- ì¶œê¸ˆ ì™„ë£Œ í‘¸ì‹œ ì•Œë¦¼
- QKEY ë­í‚¹ ì‹œìŠ¤í…œ

### 3. ì„±ëŠ¥ ìµœì í™”
- ì´ë¯¸ì§€/ë™ì˜ìƒ ìºì‹± ê°œì„ 
- ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ëŸ‰ ìµœì í™”
- ë°°í„°ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”

### 4. ì¶”ê°€ ê¸°ëŠ¥
- ê·¸ë£¹ ì±„íŒ… ì—­í•  ê´€ë¦¬ (ê´€ë¦¬ì, ë©¤ë²„)
- ë©”ì‹œì§€ ê²€ìƒ‰ ê¸°ëŠ¥
- ì±„íŒ…ë°© ì„¤ì • (ì•Œë¦¼, ë°°ê²½)

---

**ì‘ì—… ì™„ë£Œ! ğŸ‰**

ëª¨ë“  ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.
ì¶”ê°€ ì‘ì—…ì´ í•„ìš”í•˜ì‹œë©´ ì–¸ì œë“ ì§€ ë§ì”€í•´ì£¼ì„¸ìš”!
